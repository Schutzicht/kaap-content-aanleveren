---
import Layout from '../layouts/Layout.astro';
---

<Layout title="KAAP Content Aanleveren">
    <div class="space-y-10 reveal active">
        <div class="text-center space-y-4">
            <div class="inline-block px-4 py-1.5 rounded-full bg-white border border-gray-200 text-sm font-semibold text-kaap-purple mb-2 shadow-sm">
                Voor intern gebruik
            </div>
            <h1 class="text-4xl md:text-5xl font-heading font-bold text-kaap-gray leading-tight">
                Deel jouw <span class="text-kaap-gradient">Content Idee</span>
            </h1>
            <p class="text-kaap-text-gray text-lg max-w-2xl mx-auto leading-relaxed">
                Heb je een innovatief project, event of mijlpaal te delen? Vul dit formulier in (max 2 min) en stuur het direct door.
            </p>
        </div>

        <form id="submissionForm" class="bg-white p-8 md:p-10 rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100 space-y-8 relative overflow-hidden">
            <!-- Top shimmer effect -->
            <div class="absolute top-0 left-0 w-full h-1 bg-kaap-gradient"></div>

            <!-- Wat? -->
            <div class="space-y-2">
                <label for="wat" class="block font-heading font-semibold text-kaap-gray text-lg">Wat? <span class="text-kaap-pink">*</span></label>
                <p class="text-sm text-kaap-text-gray mb-2">Korte titel of onderwerp van je update.</p>
                <input type="text" id="wat" name="wat" required
                    class="w-full px-5 py-4 rounded-xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-kaap-pink/50 focus:ring-4 focus:ring-kaap-pink/10 outline-none transition-all duration-300 font-medium placeholder-gray-400"
                    placeholder="Bijv: Opening nieuw lab..." />
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Waar? -->
                <div class="space-y-2">
                    <label for="waar" class="block font-heading font-semibold text-kaap-gray text-lg">Waar?</label>
                    <input type="text" id="waar" name="waar"
                        class="w-full px-5 py-4 rounded-xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-kaap-pink/50 focus:ring-4 focus:ring-kaap-pink/10 outline-none transition-all duration-300 font-medium placeholder-gray-400"
                        placeholder="Bijv: Vlissingen / Online" />
                </div>

                <!-- Waarom? -->
                <div class="space-y-2">
                    <label for="waarom" class="block font-heading font-semibold text-kaap-gray text-lg">Waarom? (Doel)</label>
                    <input type="text" id="waarom" name="waarom"
                        class="w-full px-5 py-4 rounded-xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-kaap-pink/50 focus:ring-4 focus:ring-kaap-pink/10 outline-none transition-all duration-300 font-medium placeholder-gray-400"
                        placeholder="Bijv: Kennis delen, Werving..." />
                </div>
            </div>

            <!-- Wanneer plaatsen? -->
            <div class="space-y-3">
                <label class="block font-heading font-semibold text-kaap-gray text-lg">Wanneer plaatsen? <span class="text-kaap-pink">*</span></label>
                <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                    <label class="cursor-pointer relative">
                        <input type="radio" name="timing" value="Spoed" class="peer sr-only" required>
                        <div class="p-3 rounded-xl bg-gray-50 border-2 border-transparent peer-checked:border-kaap-pink peer-checked:bg-kaap-pink/5 hover:bg-gray-100 transition-all text-center font-medium text-kaap-gray">
                            üî• Spoed
                        </div>
                    </label>
                    <label class="cursor-pointer relative">
                        <input type="radio" name="timing" value="Deze week" class="peer sr-only">
                        <div class="p-3 rounded-xl bg-gray-50 border-2 border-transparent peer-checked:border-kaap-pink peer-checked:bg-kaap-pink/5 hover:bg-gray-100 transition-all text-center font-medium text-kaap-gray">
                            üìÖ Deze week
                        </div>
                    </label>
                    <label class="cursor-pointer relative">
                        <input type="radio" name="timing" value="Geen haast" class="peer sr-only">
                        <div class="p-3 rounded-xl bg-gray-50 border-2 border-transparent peer-checked:border-kaap-pink peer-checked:bg-kaap-pink/5 hover:bg-gray-100 transition-all text-center font-medium text-kaap-gray">
                            ‚òï Geen haast
                        </div>
                    </label>
                    <label class="cursor-pointer relative col-span-2 md:col-span-3">
                        <input type="radio" name="timing" value="Anders" class="peer sr-only" id="timingCustom">
                        <div class="p-3 rounded-xl bg-gray-50 border-2 border-transparent peer-checked:border-kaap-pink peer-checked:bg-kaap-pink/5 hover:bg-gray-100 transition-all text-center font-medium text-kaap-gray flex flex-wrap items-center justify-center gap-2">
                             <span>‚úèÔ∏è Zelf kiezen:</span>
                             <input type="date" name="customDate" class="bg-transparent border-b border-gray-300 focus:border-kaap-pink outline-none text-sm px-1 min-w-[120px]" onclick="document.getElementById('timingCustom').checked = true">
                        </div>
                    </label>
                </div>
            </div>

            <!-- Met welke partners? -->
            <div class="space-y-2">
                <label for="partners" class="block font-heading font-semibold text-kaap-gray text-lg">Met welke partners? <span class="text-kaap-pink">*</span></label>
                <p class="text-sm text-kaap-text-gray mb-2">Wie moeten we taggen of noemen?</p>
                <input type="text" id="partners" name="partners" required
                    class="w-full px-5 py-4 rounded-xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-kaap-pink/50 focus:ring-4 focus:ring-kaap-pink/10 outline-none transition-all duration-300 font-medium placeholder-gray-400"
                    placeholder="@Partner1, @Partner2..." />
            </div>

            <!-- Toelichting voor content -->
            <div class="space-y-2">
                <label for="toelichting" class="block font-heading font-semibold text-kaap-gray text-lg">Toelichting voor content</label>
                <p class="text-sm text-kaap-text-gray mb-2">Het verhaal in het kort.</p>
                <textarea id="toelichting" name="toelichting" rows="3"
                    class="w-full px-5 py-4 rounded-xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-kaap-pink/50 focus:ring-4 focus:ring-kaap-pink/10 outline-none transition-all duration-300 font-medium placeholder-gray-400 resize-none"
                    placeholder="Typ hier je toelichting..."></textarea>
            </div>

            <!-- Foto's/video's -->
            <div class="space-y-2">
                <label for="media" class="block font-heading font-semibold text-kaap-gray text-lg">Foto's / Video's</label>
                <p class="text-sm text-kaap-text-gray mb-2">Heb je beeld? Plak een linkje of voeg ze toe als bijlage in de mail.</p>
                <input type="text" id="media" name="media"
                    class="w-full px-5 py-4 rounded-xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-kaap-pink/50 focus:ring-4 focus:ring-kaap-pink/10 outline-none transition-all duration-300 font-medium placeholder-gray-400"
                    placeholder="Link naar bestanden (optioneel)" />
            </div>

             <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Partnerinput/contactpersoon -->
                <div class="space-y-2">
                    <label for="contact" class="block font-heading font-semibold text-kaap-gray text-lg">Contactpersoon</label>
                    <input type="text" id="contact" name="contact"
                        class="w-full px-5 py-4 rounded-xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-kaap-pink/50 focus:ring-4 focus:ring-kaap-pink/10 outline-none transition-all duration-300 font-medium placeholder-gray-400"
                        placeholder="Naam / Organisatie" />
                </div>

                <!-- Verplichtingen -->
                 <div class="space-y-2">
                    <label for="verplichtingen" class="block font-heading font-semibold text-kaap-gray text-lg">Verplichtingen</label>
                    <input type="text" id="verplichtingen" name="verplichtingen"
                        class="w-full px-5 py-4 rounded-xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-kaap-pink/50 focus:ring-4 focus:ring-kaap-pink/10 outline-none transition-all duration-300 font-medium placeholder-gray-400"
                        placeholder="Logo's, embargo's, etc." />
                </div>
            </div>

            <div class="pt-4">
                <button type="submit" 
                    class="group w-full bg-kaap-gray hover:bg-black text-white font-heading font-bold text-lg py-5 rounded-xl shadow-lg hover:shadow-2xl hover:shadow-kaap-pink/20 transform hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2">
                    <span>Open in Email</span>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-5 group-hover:translate-x-1 transition-transform">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5" />
                    </svg>                      
                </button>
                <p class="text-center text-xs text-kaap-text-gray mt-4">
                    Dit opent je standaard mailprogramma. Vergeet bijlagen niet handmatig toe te voegen!
                </p>
            </div>
        </form>
    </div>
</Layout>

<script>
    const form = document.getElementById('submissionForm') as HTMLFormElement;
    
    form?.addEventListener('submit', (e) => {
        e.preventDefault();
        
        const formData = new FormData(form);
        const data = Object.fromEntries(formData);
        
        const timingVal = data.timing === 'Anders' && data.customDate ? `Datum: ${data.customDate}` : data.timing;

        const subject = `Content Idee: ${data.wat}`;
        const body = `
Hoi,

Hierbij een nieuw content idee!

üîπ WAT?
${data.wat}

‚è∞ WANNEER?
${timingVal}

üìç WAAR?
${data.waar || '-'}

ü§ù PARTNERS
${data.partners}

üéØ WAAROM?
${data.waarom || '-'}

üìù TOELICHTING
${data.toelichting || '-'}

üì∏ BEELDMATERIAAL
${data.media || '(Zie eventuele bijlage)'}

üë§ CONTACTPERSOON
${data.contact || '-'}

‚ö†Ô∏è VERPLICHTINGEN
${data.verplichtingen || 'Geen'}

Gr.
        `.trim();

        window.location.href = `mailto:jorik@dockwize.nl,phaedra@dockwize.nl?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
    });
</script>
